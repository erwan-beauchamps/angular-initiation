{"ast":null,"code":"import { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/messages-server.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/card\";\n\nfunction FirstPageComponent_mat_card_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 1)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", message_r2.author, \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r2.message);\n  }\n}\n\nfunction FirstPageComponent_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 1)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const message_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(asyncPipe) \", message_r3.author, \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r3.message);\n  }\n}\n\nexport class FirstPageComponent {\n  constructor(_messagesServerService) {\n    this._messagesServerService = _messagesServerService;\n    this.listMessages = [{\n      author: \"test\",\n      message: \"test\"\n    }];\n    this.listMessageObservable$ = new Observable();\n  }\n\n  ngOnInit() {\n    this.listMessageObservable$ = this._messagesServerService.getMessages();\n    this.listMessageObservable$.subscribe(result => {\n      console.log();\n      this.listMessages = result;\n    });\n    ;\n  }\n\n}\n\nFirstPageComponent.ɵfac = function FirstPageComponent_Factory(t) {\n  return new (t || FirstPageComponent)(i0.ɵɵdirectiveInject(i1.MessagesServerService));\n};\n\nFirstPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FirstPageComponent,\n  selectors: [[\"app-first-page\"]],\n  decls: 3,\n  vars: 4,\n  consts: [[\"class\", \"message\", 4, \"ngFor\", \"ngForOf\"], [1, \"message\"]],\n  template: function FirstPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, FirstPageComponent_mat_card_0_Template, 5, 2, \"mat-card\", 0);\n      i0.ɵɵtemplate(1, FirstPageComponent_mat_card_1_Template, 5, 2, \"mat-card\", 0);\n      i0.ɵɵpipe(2, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.listMessages);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx.listMessageObservable$));\n    }\n  },\n  dependencies: [i2.NgForOf, i3.MatCard, i2.AsyncPipe],\n  styles: [\".message[_ngcontent-%COMP%] {\\n  margin-left: 1rem;\\n  margin-top: 1rem;\\n  padding-left: 1rem;\\n  width: 30rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpcnN0LXBhZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBQ0oiLCJmaWxlIjoiZmlyc3QtcGFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZXNzYWdlIHtcbiAgICBtYXJnaW4tbGVmdDogMXJlbTtcbiAgICBtYXJnaW4tdG9wOiAxcmVtO1xuICAgIHBhZGRpbmctbGVmdDogMXJlbTtcbiAgICB3aWR0aDogMzByZW07XG59Il19 */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,UAAT,QAA2B,MAA3B;;;;;;;;ICDAC,oCAA+D,CAA/D,EAA+D,GAA/D;IACOA;IAAoBA;IAAMA;IAAmBA;;;;;IAA7CA;IAAAA;IAA0BA;IAAAA;;;;;;IAEjCA,oCAAiF,CAAjF,EAAiF,GAAjF;IACOA;IAAgCA;IAAMA;IAAmBA;;;;;IAAzDA;IAAAA;IAAsCA;IAAAA;;;;ADM7C,OAAM,MAAOC,kBAAP,CAAyB;EAK7BC,YAAoBC,sBAApB,EAAiE;IAA7C;IAHb,oBAA0B,CAAC;MAACC,MAAM,EAAE,MAAT;MAAiBC,OAAO,EAAE;IAA1B,CAAD,CAA1B;IAIL,KAAKC,sBAAL,GAA8B,IAAIP,UAAJ,EAA9B;EACD;;EAEDQ,QAAQ;IACN,KAAKD,sBAAL,GAA8B,KAAKH,sBAAL,CAA4BK,WAA5B,EAA9B;IACA,KAAKF,sBAAL,CAA4BG,SAA5B,CAAuCC,MAAD,IAAsB;MAC1DC,OAAO,CAACC,GAAR;MACA,KAAKC,YAAL,GAAoBH,MAApB;IACD,CAHD;IAGG;EACJ;;AAf4B;;;mBAAlBT,oBAAkBD;AAAA;;;QAAlBC;EAAkBa;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/BlB;MAGAA;;;;;MAH8CA;MAGAA;MAAAA","names":["Observable","i0","FirstPageComponent","constructor","_messagesServerService","author","message","listMessageObservable$","ngOnInit","getMessages","subscribe","result","console","log","listMessages","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/r1/Documents/Formations/Initiation/angular-initiation/src/app/first-page/first-page.component.ts","/Users/r1/Documents/Formations/Initiation/angular-initiation/src/app/first-page/first-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Message } from '../services/firebase-api.service';\nimport { MessagesServerService } from '../services/messages-server.service';\n\n@Component({\n  selector: 'app-first-page',\n  templateUrl: './first-page.component.html',\n  styleUrls: ['./first-page.component.scss']\n})\nexport class FirstPageComponent implements OnInit {\n\n  public listMessages: Message[] = [{author: \"test\", message: \"test\"}];\n  public listMessageObservable$: Observable<Message[]>;\n\n  constructor(private _messagesServerService: MessagesServerService) {\n    this.listMessageObservable$ = new Observable<Message[]>();\n  }\n\n  ngOnInit(): void {\n    this.listMessageObservable$ = this._messagesServerService.getMessages()\n    this.listMessageObservable$.subscribe((result: Message[]) => {\n      console.log()\n      this.listMessages = result;\n    });;\n  }\n\n}\n","<mat-card class=\"message\" *ngFor=\"let message of listMessages\">\n    <p>{{message.author}}: <span>{{message.message}}</span></p>\n</mat-card>\n<mat-card class=\"message\" *ngFor=\"let message of listMessageObservable$ | async\">\n    <p>(asyncPipe) {{message.author}}: <span>{{message.message}}</span></p>\n</mat-card>\n"]},"metadata":{},"sourceType":"module"}