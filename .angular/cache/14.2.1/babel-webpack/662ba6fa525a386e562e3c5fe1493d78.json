{"ast":null,"code":"import { Observable } from 'rxjs';\nimport 'rxjs/add/operator/map';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction FirstPageComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", message_r2.author, \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r2.message);\n  }\n}\n\nfunction FirstPageComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const message_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(async) \", message_r3.author, \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r3.message);\n  }\n}\n\nexport class FirstPageComponent {\n  constructor(_httpClient) {\n    this._httpClient = _httpClient;\n    this.url = 'https://angular-initiation-default-rtdb.firebaseio.com/messages.json';\n    this.listMessages = [{\n      author: \"test\",\n      message: \"test\"\n    }];\n    this.listMessageObservable$ = new Observable();\n  }\n\n  ngOnInit() {\n    this._httpClient.get(this.url).subscribe(result => {\n      this.listMessages = result;\n      console.log(\"this.listMessages\", this.listMessages);\n    });\n\n    this.listMessageObservable$ = this._httpClient.get(this.url).map(response => response.json());\n  }\n\n}\n\nFirstPageComponent.ɵfac = function FirstPageComponent_Factory(t) {\n  return new (t || FirstPageComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nFirstPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FirstPageComponent,\n  selectors: [[\"app-first-page\"]],\n  decls: 5,\n  vars: 4,\n  consts: [[4, \"ngFor\", \"ngForOf\"]],\n  template: function FirstPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"first-page works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, FirstPageComponent_div_2_Template, 5, 2, \"div\", 0);\n      i0.ɵɵtemplate(3, FirstPageComponent_div_3_Template, 5, 2, \"div\", 0);\n      i0.ɵɵpipe(4, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listMessages);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(4, 2, ctx.listMessages));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmaXJzdC1wYWdlLmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,UAAT,QAA2B,MAA3B;AACA,OAAO,uBAAP;;;;;;;ICFAC,4BAA0C,CAA1C,EAA0C,GAA1C;IACOA;IAAoBA;IAAMA;IAAmBA;;;;;IAA7CA;IAAAA;IAA0BA;IAAAA;;;;;;IAEjCA,4BAAkD,CAAlD,EAAkD,GAAlD;IACOA;IAA4BA;IAAMA;IAAmBA;;;;;IAArDA;IAAAA;IAAkCA;IAAAA;;;;ADUzC,OAAM,MAAOC,kBAAP,CAAyB;EAM7BC,YAAoBC,WAApB,EAA2C;IAAvB;IAJZ,WAAc,sEAAd;IACD,oBAA0B,CAAC;MAACC,MAAM,EAAE,MAAT;MAAiBC,OAAO,EAAE;IAA1B,CAAD,CAA1B;IAIL,KAAKC,sBAAL,GAA8B,IAAIP,UAAJ,EAA9B;EACD;;EAEDQ,QAAQ;IACN,KAAKJ,WAAL,CAAiBK,GAAjB,CAAqB,KAAKC,GAA1B,EAA+BC,SAA/B,CAA0CC,MAAD,IAAgB;MACvD,KAAKC,YAAL,GAAoBD,MAApB;MACAE,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,KAAKF,YAAtC;IACD,CAHD;;IAIA,KAAKN,sBAAL,GAA8B,KAAKH,WAAL,CAAiBK,GAAjB,CAAqB,KAAKC,GAA1B,EAC7BM,GAD6B,CACxBC,QAAD,IAAmCA,QAAQ,CAACC,IAAT,EADV,CAA9B;EAED;;AAjB4B;;;mBAAlBhB,oBAAkBD;AAAA;;;QAAlBC;EAAkBiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCf/BtB;MAAGA;MAAiBA;MACpBA;MAGAA;;;;;MAHyBA;MAAAA;MAGAA;MAAAA","names":["Observable","i0","FirstPageComponent","constructor","_httpClient","author","message","listMessageObservable$","ngOnInit","get","url","subscribe","result","listMessages","console","log","map","response","json","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/r1/Documents/Formations/Initiation/angular-initiation/src/app/first-page/first-page.component.ts","/Users/r1/Documents/Formations/Initiation/angular-initiation/src/app/first-page/first-page.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/operator/map'\n\nexport interface Message {\n  author: string;\n  message: string;\n}\n\n@Component({\n  selector: 'app-first-page',\n  templateUrl: './first-page.component.html',\n  styleUrls: ['./first-page.component.scss']\n})\nexport class FirstPageComponent implements OnInit {\n\n  private url: string = 'https://angular-initiation-default-rtdb.firebaseio.com/messages.json';\n  public listMessages: Message[] = [{author: \"test\", message: \"test\"}];\n  public listMessageObservable$: Observable<Message[]>;\n\n  constructor(private _httpClient: HttpClient) {\n    this.listMessageObservable$ = new Observable<Message[]>();\n  }\n\n  ngOnInit(): void {\n    this._httpClient.get(this.url).subscribe((result: any) => {\n      this.listMessages = result;\n      console.log(\"this.listMessages\", this.listMessages);\n    });\n    this.listMessageObservable$ = this._httpClient.get(this.url)\n    .map((response: Response) => <Message[]>response.json());\n  }\n\n}\n","<p>first-page works!</p>\n<div *ngFor=\"let message of listMessages\">\n    <p>{{message.author}}: <span>{{message.message}}</span></p>\n</div>\n<div *ngFor=\"let message of listMessages | async\">\n    <p>(async) {{message.author}}: <span>{{message.message}}</span></p>\n</div>\n"]},"metadata":{},"sourceType":"module"}